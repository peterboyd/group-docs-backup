{"can_edit": true, "from": {"name": "Micha\u00ebl Caron Couturier", "id": "10203428948838198"}, "subject": "How to create a hotspot on Debian", "updated_time": "2014-02-10T05:38:54+0000", "can_delete": true, "created_time": "2014-01-22T18:08:03+0000", "message": "<p>Hotspot share your computer&#039;s Internet connection with other devices over Wi-Fi.<br /><br /> Find wireless driver and make sure that driver is ath5k or ath9k, this solution will only work for those drivers.<br /> For others wireless cards and drivers for now doesn&#039;t work...<br /><br /> 1. In terminal type: lspci<br /> If you use usb wireless adapter type command lsusb.<br /><br /> We now need to install 2 additional tools to make out hotspot, 1st one is hostapd(hotspot server), 2nd one is dnsmasq(dns dhcp server).<br /><br /> 2. apt-get install hostapd dnsmasq<br /><br /> 3. Stop those services if started already, and prevent them from starting on system start up.<br /><br /> in terminal type:<br /> sudo service hostapd stop<br /> sudo service dnsmasq stop<br /> sudo update-rc.d hostapd disable<br /> sudo update-rc.d dnsmasq disable<br /><br /> 4. Now we need to set up config files.<br /> in terminal type: gedit /etc/dnsmasq.conf<br /> or kate /etc/dnsmasq.conf if you use kde...<br /><br /> add those lines to the config file:<br /><br /> __Code:___________________________________________ ____________<br /><br /> # Bind to only one interface<br /> bind-interfaces<br /> # Choose interface for binding<br /> interface=wlan0<br /> # Specify range of IP addresses for DHCP leasses<br /> dhcp-range=192.168.150.2,192.168.150.10<br /><br /> __________________________________________________ __________<br /><br /> 5. hostapd config<br /> In terminal type: gedit /etc/hostapd.conf<br /><br /> and add those lines:<br /> _____Code:________________________________________ _______________<br /><br /> # Define interface<br /> interface=wlan0<br /> # Select driver<br /> driver=nl80211<br /> # Set access point name<br /> ssid=myhotspot<br /> # Set access point harware mode to 802.11g<br /> hw_mode=g<br /> # Set WIFI channel (can be easily changed)<br /> channel=6<br /> # Enable WPA2 only (1 for WPA, 2 for WPA2, 3 for WPA + WPA2)<br /> wpa=2<br /> wpa_passphrase=mypassword<br /> __________________________________________________ _______<br /> You can change ssid name and password for anything you want here. Current config will create hotspot named myhotspot with password mypassword.<br /><br /> 6. Now create anywhere you want a file named it hotspot.sh (best way to save script on Desktop)<br /> Edit it with any text editor like this:<br /><br /> ________ Code: ___________________________________________<br /> #!/bin/bash<br /> # Start<br /> # Configure IP address for WLAN<br /> sudo ifconfig wlan0 192.168.150.1<br /> # Start DHCP/DNS server<br /> sudo service dnsmasq restart<br /> # Enable routing<br /> sudo sysctl net.ipv4.ip_forward=1<br /> # Enable NAT<br /> sudo iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE<br /> # Run access point daemon<br /> sudo hostapd /etc/hostapd.conf<br /> # Stop<br /> # Disable NAT<br /> sudo iptables -D POSTROUTING -t nat -o ppp0 -j MASQUERADE<br /> # Disable routing<br /> sudo sysctl net.ipv4.ip_forward=0<br /> # Disable DHCP/DNS server<br /> sudo service dnsmasq stop<br /> sudo service hostapd stop<br /> __________________________________________________ ____________<br /><br /> You will probably need to change ppp0 in this to eth0 or any other number which refers to your wired connection.<br /><br /> 7. Last step. Now you can start your hotspot by starting script. Just run it...<br /> For me it looks like this:<br /> root&#064;distro:~# cd /root/Desktop/<br />root&#064;distro:~# chmod +x hotspot.sh<br /> root&#064;distro:~/Desktop# ./hotspot.sh<br /> Because I have it on my Desktop.<br /><br /> Enoy in your new Hotspot!!!!!!</p><br /><br /><br />", "revision": "10153894666820019", "id": "10153828764695019", "icon": "https://fbstatic-a.akamaihd.net/rsrc.php/v2/y7/r/8zhNI-VGpiI.png"}