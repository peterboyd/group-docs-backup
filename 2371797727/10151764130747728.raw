{"from": {"id": "100000182091980", "name": "Ljubomir Ljubojevi\u0107"}, "revision": "10152851208357728", "updated_time": "2014-10-22T13:00:10+0000", "created_time": "2013-08-01T18:56:23+0000", "message": "<p>I create 500MB /boot partitions (I do it on both HDD-a), then 45GB partitions (on both disks) for LVM Group for ROOT partition and SWAP partition, and then rest of free space can be created as RAID or extended LVM, what ever you like. Following example is to create boot RAID partition and RAID partition for extended LVM where you put ROOT , SWAP and HOME partitions of your choosing.<br /></p><p><br /></p><p>Following is a procedure for creating 2 partitions (boot RAID1 and RAID10,far2 on the rest of the disk):<br /><br />NOTICE 1: /dev/sdJ and /dev/sdK use J and K for numbers ON PURPOSE, so you can not overwrite possible OTHER drives you have on the system with important data. If you only have those 2 then use sda and sdb.<br /><br />NOTICE 2: If you have old partitions delete them with fdisk, parted, gparted (GUI) or any other tool. HowTo presumes you have a BLANK partition table, with NO partitions.<br /><br />NOTICE 3: All partitions will be properly aligned! <br /><br />Check partitons with sfdisk -l /dev/sd?<br />Delete existing partitions with:<br /><b>fdisk /dev/sdj</b><br />p\u00a0\u00a0\u00a0\u00a0 (print all partitions)<br />d\u00a0\u00a0\u00a0\u00a0 (delete partition)<br />#\u00a0\u00a0\u00a0\u00a0 (select highest number form given)<br /><br />w\u00a0\u00a0\u00a0\u00a0 (write the change)<br /><br />1.Start LiveCD on the system in question<br />2. Open terminal as root<br /><br />Type (interactively):<br /><br /><b>fdisk /dev/sdj</b><br /><b>u</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (set recommended option)<br /><b>c</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (set recommended option)<br /><b>n\u00a0</b>\u00a0\u00a0\u00a0\u00a0 (create new partition)<br /><b>p</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (choose primary)<br /><b>1</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (choose first partition - IF asked!)<br />(2048): <b></b><br /><b>+500M</b>\u00a0 (set size 500MB)<br /><b>t\u00a0</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (set flag on partition)<br /><b>fd\u00a0</b>\u00a0\u00a0\u00a0 (raid auto flag)<br /><b>a</b> (1?)\u00a0 (set boot flag)<br /><br />second partitoin:<br /><br />n<b>\u00a0\u00a0\u00a0\u00a0\u00a0 (create new partition)</b><br /><b>p</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (choose primary)<br /><b>2</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (choose second partition)<br />(?): <b></b>\u00a0\u00a0 (use the rest of the hdd for second partition)<br /><b>t</b>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 (set flag on partition)<br /><b>2</b>\u00a0\u00a0\u00a0\u00a0\u00a0 (choose partition 2)<br />fd<b>\u00a0\u00a0\u00a0\u00a0 (set raid auto flag)</b><br /><b>w</b>\u00a0\u00a0\u00a0\u00a0 (write the change)<br /><br />Copy partitions on other disk:<br /><b>sfdisk -d /dev/sdj | sfdisk --force /dev/sdk</b><br /><br /><b>Create /boot partition as RAID1, size 500MB (safe size for later kernel sizes):<br />mdadm --create /dev/md8 --level=1 --raid-disks=2 /dev/sdj1 /dev/sdk1 --metadata=0.90</b><br /><br /><b>Create second partition as RAID10, far 2 (2 x read speed, 1 x write speed, &quot;mirror with speed benefits&quot;):<br />mdadm --create /dev/md9 --level=10 --layout=f2 --raid-disks=2 /dev/sdj2 /dev/sdk2</b><br /></p><br />", "subject": "Creating partitions for RAID", "id": "10151764130747728", "icon": "https://fbstatic-a.akamaihd.net/rsrc.php/v2/y7/r/8zhNI-VGpiI.png"}